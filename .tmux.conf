# ============ 依赖检查 ============
# 注意: tmux-resurrect/continuum 需要 hostname 命令
# 测试: which hostname
# Arch Linux 安装: sudo pacman -S inetutils
# Debian/Ubuntu: sudo apt-get install hostname
# CentOS/RHEL: sudo yum install hostname
# 如果没有 hostname, 自动保存功能将失效

# ============ 基础设置 ============
set -g prefix C-b

# ============ 插件列表 ============
set -g @plugin 'tmux-plugins/tpm'
# set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-yank'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'
set -g @plugin 'tmux-plugins/tmux-pain-control'
set -g @plugin 'xtheing/tmux-my-config'

# ============ 插件配置 ============
# continuum 自动保存恢复
set -g @continuum-save-interval '15'
set -g @continuum-restore 'on'
set -g @continuum-boot 'off'

# 安装插件管理器 TPM
if "test ! -d ~/.tmux/plugins/tpm" \
   "run 'git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm'"

# 初始化 tpm
run '~/.tmux/plugins/tpm/tpm'

# 加载自定义配置（必须放在 tpm 之后，覆盖 sensible 的设置）
run '~/.tmux/plugins/tmux-my-config/my-tmux.tmux'

